export const runtime = "nodejs";

export async function POST(req: Request) {
  const xml = [
    '<?xml version="1.0" encoding="utf-8"?>',
    '<PrintRequestInfo>',
    '  <ePOSPrint>',
    '    <Parameter>',
    '      <devid>local_printer</devid>',
    '      <timeout>10000</timeout>',
    '    </Parameter>',
    '    <PrintData>',
    '      <epos-print xmlns="http://www.epson-pos.com/schemas/2011/03/epos-print">',
    '        <text align="center" />',
    `        <image width="200" height="200" color="color_1" mode="mono">AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8BfwAAAAAAAAAAAAAAAAAAAAAAAAAAAAH4AAfgAAAAAAAAAAAAAAAAAAAAAAAAAAAHgf9A8AAAAAAAAAAAAAAAAAAAAAAAAAAADhAAuDwAAAAAAAAAAAAAAAAAAAAAAAAAADwgAAYPAAAAAAAAAAAAAAAAAAAAAAAAAABwAAABwwAAAAAAAAAAAAAAAAAAAAAAAAAA4CQAAGPAAAAAAAAAAAAAAAAAAAAAAAAAAcCAAAAQwAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAADHAAAAAAAAAAAAAAAAAAAAAAAAADAQQAAAIwAAAAAAAAAAAAAAAAAAAAAAAABgoAqAAAOAAAAAAAAAAAAAAAAAAAAAAAAA6gAAEAAIwAAAAAAAAAAAAAAAAAAAAAAAAOAAAAYAAMAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgADgAAAAAAAAAAAAAAAAAAAAAAABgAAAAEAAYAAAAAAAAAAAAAAAAAAAAAAAA4AAAAFwADAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAGAAwAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAgAGAAAAAAAAAAAAAAAAAAAAAAADwAAAAABABgAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAgEIAAAAAAAAAAAAAAAAAAAAAAAeAAAAAAKADAAAAAAAAAAAAAAAAAAAAAAAOgAAAAAAQIwAAAAAAAAAAAAAAAAAAAAAAHYAAAAAAgBOAAAAAAAAAAA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</image>`,
    '        <cut type="feed" />',
    '      </epos-print>',
    '    </PrintData>',
    '  </ePOSPrint>',
    '</PrintRequestInfo>',
  ].join("\n");

  const length = Buffer.byteLength(xml, "utf-8").toString();
  return new Response(xml, {
    status: 200,
    headers: {
      "Content-Type": "text/xml; charset=utf-8",
      "Content-Length": length,
      "Cache-Control": "no-store",
    },
  });
}
